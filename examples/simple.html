<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A simple example with webarkit-OCVT</title>
</head>

<body>
    <script src="../dist/WebARKit.js"></script>
    <script>
        videoWidth = 640;
        videoHeight = 480;
        var webarkit = new WebARKit.WebARKit();
        webarkit.init()
            .then((w) => {
                console.log(w);
                var version = w.getARToolKitVersion();
                var arCameraURL
                console.log(version); // this should print the ARToolKit version
                w.initialiseAR() // this should print: webarkit_ES6_wasm.js:8 [info] webarkit v5.4.0 initialised.
                // loading the camera
                async function start() {
                    try {
                        var arCameraURL = await w.loadCameraParam('./Data/camera_para.dat')
                        .then(url => {
                            var success = w.arwStartRunningJS(url, videoWidth, videoHeight)
                            console.log(success);
                        })
                    } catch (e) {
                        throw new Error('Error loading camera param: ' + e)
                    }
                };
                start()
                })
        
    </script>
</body>

</html>